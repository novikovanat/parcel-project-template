{"mappings":"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","sources":["<anon>","src/js/slider.js"],"sourcesContent":["var $d529ab21baf1a41a$exports = {};\n\"use strict\";\nvar $d529ab21baf1a41a$var$multiItemSlider = function() {\n    function _isElementVisible(element) {\n        var rect = element.getBoundingClientRect(), vWidth = window.innerWidth || doc.documentElement.clientWidth, vHeight = window.innerHeight || doc.documentElement.clientHeight, elemFromPoint = function(x, y) {\n            return document.elementFromPoint(x, y);\n        };\n        if (rect.right < 0 || rect.bottom < 0 || rect.left > vWidth || rect.top > vHeight) return false;\n        return element.contains(elemFromPoint(rect.left, rect.top)) || element.contains(elemFromPoint(rect.right, rect.top)) || element.contains(elemFromPoint(rect.right, rect.bottom)) || element.contains(elemFromPoint(rect.left, rect.bottom));\n    }\n    return function(selector, config) {\n        var _mainElement = document.querySelector(selector), _sliderWrapper = _mainElement.querySelector(\".slider__wrapper\"), _sliderItems = _mainElement.querySelectorAll(\".slider__item\"), _sliderControls = _mainElement.querySelectorAll(\".slider__control\"), _sliderControlLeft = _mainElement.querySelector(\".slider__control_left\"), _sliderControlRight = _mainElement.querySelector(\".slider__control_right\"), _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width), _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width), _html = _mainElement.innerHTML, _indexIndicator = 0, _maxIndexIndicator = _sliderItems.length - 1, _indicatorItems, _positionLeftItem = 0, _transform = 0, _step = _itemWidth / _wrapperWidth * 100, _items = [], _interval = 0, _states = [\n            {\n                active: false,\n                minWidth: 0,\n                count: 1\n            }\n        ], _config = {\n            isCycling: false,\n            direction: \"right\",\n            interval: 4000,\n            pause: true\n        };\n        for(var key in config)if (key in _config) _config[key] = config[key];\n        _sliderItems.forEach(function(item, index) {\n            _items.push({\n                item: item,\n                position: index,\n                transform: 0\n            });\n        });\n        var _setActive = function() {\n            var _index = 0;\n            var width = parseFloat(document.body.clientWidth);\n            _states.forEach(function(item, index, arr) {\n                _states[index].active = false;\n                if (width >= _states[index].minWidth) _index = index;\n            });\n            _states[_index].active = true;\n        };\n        var _getActive = function() {\n            var _index;\n            _states.forEach(function(item, index, arr) {\n                if (_states[index].active) _index = index;\n            });\n            return _index;\n        };\n        var position = {\n            getItemMin: function() {\n                var indexItem = 0;\n                _items.forEach(function(item, index) {\n                    if (item.position < _items[indexItem].position) indexItem = index;\n                });\n                return indexItem;\n            },\n            getItemMax: function() {\n                var indexItem = 0;\n                _items.forEach(function(item, index) {\n                    if (item.position > _items[indexItem].position) indexItem = index;\n                });\n                return indexItem;\n            },\n            getMin: function() {\n                return _items[position.getItemMin()].position;\n            },\n            getMax: function() {\n                return _items[position.getItemMax()].position;\n            }\n        };\n        var _transformItem = function(direction) {\n            var nextItem, currentIndicator = _indexIndicator;\n            if (!_isElementVisible(_mainElement)) return;\n            if (direction === \"right\") {\n                _positionLeftItem++;\n                if (_positionLeftItem + _wrapperWidth / _itemWidth - 1 > position.getMax()) {\n                    nextItem = position.getItemMin();\n                    _items[nextItem].position = position.getMax() + 1;\n                    _items[nextItem].transform += _items.length * 100;\n                    _items[nextItem].item.style.transform = \"translateX(\" + _items[nextItem].transform + \"%)\";\n                }\n                _transform -= _step;\n                _indexIndicator = _indexIndicator + 1;\n                if (_indexIndicator > _maxIndexIndicator) _indexIndicator = 0;\n            }\n            if (direction === \"left\") {\n                _positionLeftItem--;\n                if (_positionLeftItem < position.getMin()) {\n                    nextItem = position.getItemMax();\n                    _items[nextItem].position = position.getMin() - 1;\n                    _items[nextItem].transform -= _items.length * 100;\n                    _items[nextItem].item.style.transform = \"translateX(\" + _items[nextItem].transform + \"%)\";\n                }\n                _transform += _step;\n                _indexIndicator = _indexIndicator - 1;\n                if (_indexIndicator < 0) _indexIndicator = _maxIndexIndicator;\n            }\n            _sliderWrapper.style.transform = \"translateX(\" + _transform + \"%)\";\n            _indicatorItems[currentIndicator].classList.remove(\"active\");\n            _indicatorItems[_indexIndicator].classList.add(\"active\");\n        };\n        var _slideTo = function(to) {\n            var i = 0, direction = to > _indexIndicator ? \"right\" : \"left\";\n            while(to !== _indexIndicator && i <= _maxIndexIndicator){\n                _transformItem(direction);\n                i++;\n            }\n        };\n        var _cycle = function(direction) {\n            if (!_config.isCycling) return;\n            _interval = setInterval(function() {\n                _transformItem(direction);\n            }, _config.interval);\n        };\n        var _controlClick = function(e) {\n            if (e.target.classList.contains(\"slider__control\")) {\n                e.preventDefault();\n                var direction = e.target.classList.contains(\"slider__control_right\") ? \"right\" : \"left\";\n                _transformItem(direction);\n                clearInterval(_interval);\n                _cycle(_config.direction);\n            }\n            if (e.target.getAttribute(\"data-slide-to\")) {\n                e.preventDefault();\n                _slideTo(parseInt(e.target.getAttribute(\"data-slide-to\")));\n                clearInterval(_interval);\n                _cycle(_config.direction);\n            }\n        };\n        var _handleVisibilityChange = function() {\n            if (document.visibilityState === \"hidden\") clearInterval(_interval);\n            else {\n                clearInterval(_interval);\n                _cycle(_config.direction);\n            }\n        };\n        var _refresh = function() {\n            clearInterval(_interval);\n            _mainElement.innerHTML = _html;\n            _sliderWrapper = _mainElement.querySelector(\".slider__wrapper\");\n            _sliderItems = _mainElement.querySelectorAll(\".slider__item\");\n            _sliderControls = _mainElement.querySelectorAll(\".slider__control\");\n            _sliderControlLeft = _mainElement.querySelector(\".slider__control_left\");\n            _sliderControlRight = _mainElement.querySelector(\".slider__control_right\");\n            _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width);\n            _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width);\n            _positionLeftItem = 0;\n            _transform = 0;\n            _indexIndicator = 0;\n            _maxIndexIndicator = _sliderItems.length - 1;\n            _step = _itemWidth / _wrapperWidth * 100;\n            _items = [];\n            _sliderItems.forEach(function(item, index) {\n                _items.push({\n                    item: item,\n                    position: index,\n                    transform: 0\n                });\n            });\n            _addIndicators();\n        };\n        var _setUpListeners = function() {\n            _mainElement.addEventListener(\"click\", _controlClick);\n            if (_config.pause && _config.isCycling) {\n                _mainElement.addEventListener(\"mouseenter\", function() {\n                    clearInterval(_interval);\n                });\n                _mainElement.addEventListener(\"mouseleave\", function() {\n                    clearInterval(_interval);\n                    _cycle(_config.direction);\n                });\n            }\n            document.addEventListener(\"visibilitychange\", _handleVisibilityChange, false);\n            window.addEventListener(\"resize\", function() {\n                var _index = 0, width = parseFloat(document.body.clientWidth);\n                _states.forEach(function(item, index, arr) {\n                    if (width >= _states[index].minWidth) _index = index;\n                });\n                if (_index !== _getActive()) {\n                    _setActive();\n                    _refresh();\n                }\n            });\n        };\n        var _addIndicators = function() {\n            var sliderIndicators = document.createElement(\"ol\");\n            sliderIndicators.classList.add(\"slider__indicators\");\n            for(var i = 0; i < _sliderItems.length; i++){\n                var sliderIndicatorsItem = document.createElement(\"li\");\n                if (i === 0) sliderIndicatorsItem.classList.add(\"active\");\n                sliderIndicatorsItem.setAttribute(\"data-slide-to\", i);\n                sliderIndicators.appendChild(sliderIndicatorsItem);\n            }\n            _mainElement.appendChild(sliderIndicators);\n            _indicatorItems = _mainElement.querySelectorAll(\".slider__indicators > li\");\n        };\n        // добавляем индикаторы\n        _addIndicators();\n        // инициализация\n        _setUpListeners();\n        if (document.visibilityState === \"visible\") _cycle(_config.direction);\n        _setActive();\n        return {\n            right: function() {\n                _transformItem(\"right\");\n            },\n            left: function() {\n                _transformItem(\"left\");\n            },\n            stop: function() {\n                _config.isCycling = false;\n                clearInterval(_interval);\n            },\n            cycle: function() {\n                _config.isCycling = true;\n                clearInterval(_interval);\n                _cycle();\n            }\n        };\n    };\n}();\nvar $d529ab21baf1a41a$var$slider = $d529ab21baf1a41a$var$multiItemSlider(\".slider\", {\n    isCycling: true\n});\n\n\n//# sourceMappingURL=index.e659dfee.js.map\n","'use strict';\r\nvar multiItemSlider = (function () {\r\n  function _isElementVisible(element) {\r\n    var rect = element.getBoundingClientRect(),\r\n      vWidth = window.innerWidth || doc.documentElement.clientWidth,\r\n      vHeight = window.innerHeight || doc.documentElement.clientHeight,\r\n      elemFromPoint = function (x, y) {\r\n        return document.elementFromPoint(x, y);\r\n      };\r\n    if (\r\n      rect.right < 0 ||\r\n      rect.bottom < 0 ||\r\n      rect.left > vWidth ||\r\n      rect.top > vHeight\r\n    )\r\n      return false;\r\n    return (\r\n      element.contains(elemFromPoint(rect.left, rect.top)) ||\r\n      element.contains(elemFromPoint(rect.right, rect.top)) ||\r\n      element.contains(elemFromPoint(rect.right, rect.bottom)) ||\r\n      element.contains(elemFromPoint(rect.left, rect.bottom))\r\n    );\r\n  }\r\n\r\n  return function (selector, config) {\r\n    var _mainElement = document.querySelector(selector),\r\n      _sliderWrapper = _mainElement.querySelector('.slider__wrapper'),\r\n      _sliderItems = _mainElement.querySelectorAll('.slider__item'),\r\n      _sliderControls = _mainElement.querySelectorAll('.slider__control'),\r\n      _sliderControlLeft = _mainElement.querySelector('.slider__control_left'),\r\n      _sliderControlRight = _mainElement.querySelector(\r\n        '.slider__control_right',\r\n      ),\r\n      _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width),\r\n      _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width),\r\n      _html = _mainElement.innerHTML,\r\n      _indexIndicator = 0,\r\n      _maxIndexIndicator = _sliderItems.length - 1,\r\n      _indicatorItems,\r\n      _positionLeftItem = 0,\r\n      _transform = 0,\r\n      _step = (_itemWidth / _wrapperWidth) * 100,\r\n      _items = [],\r\n      _interval = 0,\r\n      _states = [{ active: false, minWidth: 0, count: 1 }],\r\n      _config = {\r\n        isCycling: false,\r\n        direction: 'right',\r\n        interval: 4000,\r\n        pause: true,\r\n      };\r\n\r\n    for (var key in config) {\r\n      if (key in _config) {\r\n        _config[key] = config[key];\r\n      }\r\n    }\r\n\r\n    _sliderItems.forEach(function (item, index) {\r\n      _items.push({ item: item, position: index, transform: 0 });\r\n    });\r\n\r\n    var _setActive = function () {\r\n      var _index = 0;\r\n      var width = parseFloat(document.body.clientWidth);\r\n      _states.forEach(function (item, index, arr) {\r\n        _states[index].active = false;\r\n        if (width >= _states[index].minWidth) _index = index;\r\n      });\r\n      _states[_index].active = true;\r\n    };\r\n\r\n    var _getActive = function () {\r\n      var _index;\r\n      _states.forEach(function (item, index, arr) {\r\n        if (_states[index].active) {\r\n          _index = index;\r\n        }\r\n      });\r\n      return _index;\r\n    };\r\n\r\n    var position = {\r\n      getItemMin: function () {\r\n        var indexItem = 0;\r\n        _items.forEach(function (item, index) {\r\n          if (item.position < _items[indexItem].position) {\r\n            indexItem = index;\r\n          }\r\n        });\r\n        return indexItem;\r\n      },\r\n      getItemMax: function () {\r\n        var indexItem = 0;\r\n        _items.forEach(function (item, index) {\r\n          if (item.position > _items[indexItem].position) {\r\n            indexItem = index;\r\n          }\r\n        });\r\n        return indexItem;\r\n      },\r\n      getMin: function () {\r\n        return _items[position.getItemMin()].position;\r\n      },\r\n      getMax: function () {\r\n        return _items[position.getItemMax()].position;\r\n      },\r\n    };\r\n\r\n    var _transformItem = function (direction) {\r\n      var nextItem,\r\n        currentIndicator = _indexIndicator;\r\n      if (!_isElementVisible(_mainElement)) {\r\n        return;\r\n      }\r\n      if (direction === 'right') {\r\n        _positionLeftItem++;\r\n        if (\r\n          _positionLeftItem + _wrapperWidth / _itemWidth - 1 >\r\n          position.getMax()\r\n        ) {\r\n          nextItem = position.getItemMin();\r\n          _items[nextItem].position = position.getMax() + 1;\r\n          _items[nextItem].transform += _items.length * 100;\r\n          _items[nextItem].item.style.transform =\r\n            'translateX(' + _items[nextItem].transform + '%)';\r\n        }\r\n        _transform -= _step;\r\n        _indexIndicator = _indexIndicator + 1;\r\n        if (_indexIndicator > _maxIndexIndicator) {\r\n          _indexIndicator = 0;\r\n        }\r\n      }\r\n      if (direction === 'left') {\r\n        _positionLeftItem--;\r\n        if (_positionLeftItem < position.getMin()) {\r\n          nextItem = position.getItemMax();\r\n          _items[nextItem].position = position.getMin() - 1;\r\n          _items[nextItem].transform -= _items.length * 100;\r\n          _items[nextItem].item.style.transform =\r\n            'translateX(' + _items[nextItem].transform + '%)';\r\n        }\r\n        _transform += _step;\r\n        _indexIndicator = _indexIndicator - 1;\r\n        if (_indexIndicator < 0) {\r\n          _indexIndicator = _maxIndexIndicator;\r\n        }\r\n      }\r\n      _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';\r\n      _indicatorItems[currentIndicator].classList.remove('active');\r\n      _indicatorItems[_indexIndicator].classList.add('active');\r\n    };\r\n\r\n    var _slideTo = function (to) {\r\n      var i = 0,\r\n        direction = to > _indexIndicator ? 'right' : 'left';\r\n      while (to !== _indexIndicator && i <= _maxIndexIndicator) {\r\n        _transformItem(direction);\r\n        i++;\r\n      }\r\n    };\r\n\r\n    var _cycle = function (direction) {\r\n      if (!_config.isCycling) {\r\n        return;\r\n      }\r\n      _interval = setInterval(function () {\r\n        _transformItem(direction);\r\n      }, _config.interval);\r\n    };\r\n\r\n    var _controlClick = function (e) {\r\n      if (e.target.classList.contains('slider__control')) {\r\n        e.preventDefault();\r\n        var direction = e.target.classList.contains('slider__control_right')\r\n          ? 'right'\r\n          : 'left';\r\n        _transformItem(direction);\r\n        clearInterval(_interval);\r\n        _cycle(_config.direction);\r\n      }\r\n      if (e.target.getAttribute('data-slide-to')) {\r\n        e.preventDefault();\r\n        _slideTo(parseInt(e.target.getAttribute('data-slide-to')));\r\n        clearInterval(_interval);\r\n        _cycle(_config.direction);\r\n      }\r\n    };\r\n\r\n    var _handleVisibilityChange = function () {\r\n      if (document.visibilityState === 'hidden') {\r\n        clearInterval(_interval);\r\n      } else {\r\n        clearInterval(_interval);\r\n        _cycle(_config.direction);\r\n      }\r\n    };\r\n\r\n    var _refresh = function () {\r\n      clearInterval(_interval);\r\n      _mainElement.innerHTML = _html;\r\n      _sliderWrapper = _mainElement.querySelector('.slider__wrapper');\r\n      _sliderItems = _mainElement.querySelectorAll('.slider__item');\r\n      _sliderControls = _mainElement.querySelectorAll('.slider__control');\r\n      _sliderControlLeft = _mainElement.querySelector('.slider__control_left');\r\n      _sliderControlRight = _mainElement.querySelector(\r\n        '.slider__control_right',\r\n      );\r\n      _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width);\r\n      _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width);\r\n      _positionLeftItem = 0;\r\n      _transform = 0;\r\n      _indexIndicator = 0;\r\n      _maxIndexIndicator = _sliderItems.length - 1;\r\n      _step = (_itemWidth / _wrapperWidth) * 100;\r\n      _items = [];\r\n      _sliderItems.forEach(function (item, index) {\r\n        _items.push({ item: item, position: index, transform: 0 });\r\n      });\r\n      _addIndicators();\r\n    };\r\n\r\n    var _setUpListeners = function () {\r\n      _mainElement.addEventListener('click', _controlClick);\r\n      if (_config.pause && _config.isCycling) {\r\n        _mainElement.addEventListener('mouseenter', function () {\r\n          clearInterval(_interval);\r\n        });\r\n        _mainElement.addEventListener('mouseleave', function () {\r\n          clearInterval(_interval);\r\n          _cycle(_config.direction);\r\n        });\r\n      }\r\n\r\n      document.addEventListener(\r\n        'visibilitychange',\r\n        _handleVisibilityChange,\r\n        false,\r\n      );\r\n      window.addEventListener('resize', function () {\r\n        var _index = 0,\r\n          width = parseFloat(document.body.clientWidth);\r\n        _states.forEach(function (item, index, arr) {\r\n          if (width >= _states[index].minWidth) _index = index;\r\n        });\r\n        if (_index !== _getActive()) {\r\n          _setActive();\r\n          _refresh();\r\n        }\r\n      });\r\n    };\r\n\r\n    var _addIndicators = function () {\r\n      var sliderIndicators = document.createElement('ol');\r\n      sliderIndicators.classList.add('slider__indicators');\r\n      for (var i = 0; i < _sliderItems.length; i++) {\r\n        var sliderIndicatorsItem = document.createElement('li');\r\n        if (i === 0) {\r\n          sliderIndicatorsItem.classList.add('active');\r\n        }\r\n        sliderIndicatorsItem.setAttribute('data-slide-to', i);\r\n        sliderIndicators.appendChild(sliderIndicatorsItem);\r\n      }\r\n      _mainElement.appendChild(sliderIndicators);\r\n      _indicatorItems = _mainElement.querySelectorAll(\r\n        '.slider__indicators > li',\r\n      );\r\n    };\r\n\r\n    // добавляем индикаторы\r\n    _addIndicators();\r\n    // инициализация\r\n    _setUpListeners();\r\n\r\n    if (document.visibilityState === 'visible') {\r\n      _cycle(_config.direction);\r\n    }\r\n    _setActive();\r\n\r\n    return {\r\n      right: function () {\r\n        _transformItem('right');\r\n      },\r\n      left: function () {\r\n        _transformItem('left');\r\n      },\r\n      stop: function () {\r\n        _config.isCycling = false;\r\n        clearInterval(_interval);\r\n      },\r\n      cycle: function () {\r\n        _config.isCycling = true;\r\n        clearInterval(_interval);\r\n        _cycle();\r\n      },\r\n    };\r\n  };\r\n})();\r\n\r\nvar slider = multiItemSlider('.slider', {\r\n  isCycling: true,\r\n});\r\n"],"names":["$d529ab21baf1a41a$var$multiItemSlider","selector","config","_indicatorItems","_mainElement","document","querySelector","_sliderWrapper","_sliderItems","querySelectorAll","_wrapperWidth","parseFloat","getComputedStyle","width","_itemWidth","_html","innerHTML","_indexIndicator","_maxIndexIndicator","length","_positionLeftItem","_transform","_step","_items","_interval","_states","active","minWidth","count","_config","isCycling","direction","interval","pause","key","forEach","item","index","push","position","transform","_setActive","_index","body","clientWidth","arr","_getActive","getItemMin","indexItem","getItemMax","getMin","getMax","_transformItem","rect","vWidth","vHeight","elemFromPoint","nextItem","currentIndicator","element","getBoundingClientRect","window","innerWidth","doc","documentElement","innerHeight","clientHeight","x","y","elementFromPoint","right","bottom","left","top","contains","style","classList","remove","add","_slideTo","to","i","_cycle","setInterval","_refresh","clearInterval","_addIndicators","sliderIndicators","createElement","sliderIndicatorsItem","setAttribute","appendChild","addEventListener","e","target","preventDefault","getAttribute","parseInt","visibilityState"],"version":3,"file":"index.e659dfee.js.map"}